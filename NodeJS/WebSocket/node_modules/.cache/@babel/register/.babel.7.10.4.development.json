{
  "{\"sourceRoot\":\"/home/ehuman/Desktop/Java_DigitalInnovation/NodeJS/WebSocket/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/ehuman/Desktop/Java_DigitalInnovation/NodeJS/WebSocket\",\"filename\":\"/home/ehuman/Desktop/Java_DigitalInnovation/NodeJS/WebSocket/src/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/ehuman/Desktop/Java_DigitalInnovation/NodeJS/WebSocket\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/ehuman/Desktop/Java_DigitalInnovation/NodeJS/WebSocket/src/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/ehuman/Desktop/Java_DigitalInnovation/NodeJS/WebSocket",
      "filename": "/home/ehuman/Desktop/Java_DigitalInnovation/NodeJS/WebSocket/src/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/ehuman/Desktop/Java_DigitalInnovation/NodeJS/WebSocket",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/ehuman/Desktop/Java_DigitalInnovation/NodeJS/WebSocket/src/index.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/ehuman/Desktop/Java_DigitalInnovation/NodeJS/WebSocket/src/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/ehuman/Desktop/Java_DigitalInnovation/NodeJS/WebSocket/src/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _http = _interopRequireDefault(require(\"http\"));\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _socket = _interopRequireDefault(require(\"socket.io\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst app = (0, _express.default)();\n\nconst server = _http.default.createServer(app);\n\nconst io = (0, _socket.default)(server);\nconst port = process.env.PORT || 3000;\napp.use(_express.default.static(_path.default.join(__dirname, 'public')));\nserver.listen(port, () => {\n  console.log('Server listening at port %d', port);\n});\nlet onlineUsers = 0;\nio.on('connection', socket => {\n  let addedUser = false;\n  socket.on('newMessage', data => {\n    socket.broadcast.emit('newMessage', {\n      username: socket.username,\n      message: data\n    });\n    console.log('New message', data);\n  });\n  socket.on('addUser', username => {\n    if (addedUser) return;\n    socket.username = username;\n    ++onlineUsers;\n    addedUser = true;\n    socket.emit('login', {\n      onlineUsers\n    });\n    socket.broadcast.emit('userJoined', {\n      username: socket.username,\n      onlineUsers\n    });\n    console.log(`User ${username} added`);\n  });\n  socket.on('typing', () => {\n    socket.broadcast.emit('typing', {\n      username: socket.username\n    });\n  });\n  socket.on('stopTyping', () => {\n    socket.broadcast.emit('stopTyping', {\n      username: socket.username\n    });\n  });\n  socket.on('disconnect', () => {\n    if (addedUser) {\n      --onlineUsers;\n      socket.broadcast.emit('userLeft', {\n        username: socket.username,\n        onlineUsers\n      });\n    }\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImFwcCIsInNlcnZlciIsImh0dHAiLCJjcmVhdGVTZXJ2ZXIiLCJpbyIsInBvcnQiLCJwcm9jZXNzIiwiZW52IiwiUE9SVCIsInVzZSIsIkV4cHJlc3MiLCJzdGF0aWMiLCJwYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsImxpc3RlbiIsImNvbnNvbGUiLCJsb2ciLCJvbmxpbmVVc2VycyIsIm9uIiwic29ja2V0IiwiYWRkZWRVc2VyIiwiZGF0YSIsImJyb2FkY2FzdCIsImVtaXQiLCJ1c2VybmFtZSIsIm1lc3NhZ2UiXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxHQUFHLEdBQUcsdUJBQVo7O0FBQ0EsTUFBTUMsTUFBTSxHQUFHQyxjQUFLQyxZQUFMLENBQWtCSCxHQUFsQixDQUFmOztBQUNBLE1BQU1JLEVBQUUsR0FBRyxxQkFBU0gsTUFBVCxDQUFYO0FBQ0EsTUFBTUksSUFBSSxHQUFHQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsSUFBWixJQUFvQixJQUFqQztBQUVBUixHQUFHLENBQUNTLEdBQUosQ0FBUUMsaUJBQVFDLE1BQVIsQ0FBZUMsY0FBS0MsSUFBTCxDQUFVQyxTQUFWLEVBQXFCLFFBQXJCLENBQWYsQ0FBUjtBQUVBYixNQUFNLENBQUNjLE1BQVAsQ0FBY1YsSUFBZCxFQUFvQixNQUFNO0FBQ3pCVyxFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSw2QkFBWixFQUEyQ1osSUFBM0M7QUFDQSxDQUZEO0FBSUEsSUFBSWEsV0FBVyxHQUFHLENBQWxCO0FBRUFkLEVBQUUsQ0FBQ2UsRUFBSCxDQUFNLFlBQU4sRUFBb0JDLE1BQU0sSUFBSTtBQUM3QixNQUFJQyxTQUFTLEdBQUcsS0FBaEI7QUFFQUQsRUFBQUEsTUFBTSxDQUFDRCxFQUFQLENBQVUsWUFBVixFQUF3QkcsSUFBSSxJQUFJO0FBQy9CRixJQUFBQSxNQUFNLENBQUNHLFNBQVAsQ0FBaUJDLElBQWpCLENBQXNCLFlBQXRCLEVBQW9DO0FBQ25DQyxNQUFBQSxRQUFRLEVBQUVMLE1BQU0sQ0FBQ0ssUUFEa0I7QUFFbkNDLE1BQUFBLE9BQU8sRUFBRUo7QUFGMEIsS0FBcEM7QUFLQU4sSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksYUFBWixFQUEyQkssSUFBM0I7QUFDQSxHQVBEO0FBU0FGLEVBQUFBLE1BQU0sQ0FBQ0QsRUFBUCxDQUFVLFNBQVYsRUFBc0JNLFFBQUQsSUFBYztBQUNsQyxRQUFJSixTQUFKLEVBQWU7QUFFZkQsSUFBQUEsTUFBTSxDQUFDSyxRQUFQLEdBQWtCQSxRQUFsQjtBQUNBLE1BQUVQLFdBQUY7QUFDQUcsSUFBQUEsU0FBUyxHQUFHLElBQVo7QUFFQUQsSUFBQUEsTUFBTSxDQUFDSSxJQUFQLENBQVksT0FBWixFQUFxQjtBQUNwQk4sTUFBQUE7QUFEb0IsS0FBckI7QUFJQUUsSUFBQUEsTUFBTSxDQUFDRyxTQUFQLENBQWlCQyxJQUFqQixDQUFzQixZQUF0QixFQUFvQztBQUNuQ0MsTUFBQUEsUUFBUSxFQUFFTCxNQUFNLENBQUNLLFFBRGtCO0FBRW5DUCxNQUFBQTtBQUZtQyxLQUFwQztBQUtBRixJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBYSxRQUFPUSxRQUFTLFFBQTdCO0FBQ0EsR0FqQkQ7QUFtQkFMLEVBQUFBLE1BQU0sQ0FBQ0QsRUFBUCxDQUFVLFFBQVYsRUFBb0IsTUFBTTtBQUN6QkMsSUFBQUEsTUFBTSxDQUFDRyxTQUFQLENBQWlCQyxJQUFqQixDQUFzQixRQUF0QixFQUFnQztBQUMvQkMsTUFBQUEsUUFBUSxFQUFFTCxNQUFNLENBQUNLO0FBRGMsS0FBaEM7QUFHQSxHQUpEO0FBTUFMLEVBQUFBLE1BQU0sQ0FBQ0QsRUFBUCxDQUFVLFlBQVYsRUFBd0IsTUFBTTtBQUM3QkMsSUFBQUEsTUFBTSxDQUFDRyxTQUFQLENBQWlCQyxJQUFqQixDQUFzQixZQUF0QixFQUFvQztBQUNuQ0MsTUFBQUEsUUFBUSxFQUFFTCxNQUFNLENBQUNLO0FBRGtCLEtBQXBDO0FBR0EsR0FKRDtBQU1BTCxFQUFBQSxNQUFNLENBQUNELEVBQVAsQ0FBVSxZQUFWLEVBQXdCLE1BQU07QUFDN0IsUUFBSUUsU0FBSixFQUFlO0FBQ2QsUUFBRUgsV0FBRjtBQUVBRSxNQUFBQSxNQUFNLENBQUNHLFNBQVAsQ0FBaUJDLElBQWpCLENBQXNCLFVBQXRCLEVBQWtDO0FBQ2pDQyxRQUFBQSxRQUFRLEVBQUVMLE1BQU0sQ0FBQ0ssUUFEZ0I7QUFFakNQLFFBQUFBO0FBRmlDLE9BQWxDO0FBSUE7QUFDRCxHQVREO0FBVUEsQ0FyREQiLCJzb3VyY2VSb290IjoiL2hvbWUvZWh1bWFuL0Rlc2t0b3AvSmF2YV9EaWdpdGFsSW5ub3ZhdGlvbi9Ob2RlSlMvV2ViU29ja2V0L3NyYy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xuaW1wb3J0IGh0dHAgZnJvbSAnaHR0cCdcbmltcG9ydCBFeHByZXNzIGZyb20gJ2V4cHJlc3MnXG5pbXBvcnQgc29ja2V0aW8gZnJvbSAnc29ja2V0LmlvJ1xuXG5jb25zdCBhcHAgPSBFeHByZXNzKClcbmNvbnN0IHNlcnZlciA9IGh0dHAuY3JlYXRlU2VydmVyKGFwcClcbmNvbnN0IGlvID0gc29ja2V0aW8oc2VydmVyKVxuY29uc3QgcG9ydCA9IHByb2Nlc3MuZW52LlBPUlQgfHwgMzAwMFxuXG5hcHAudXNlKEV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsICdwdWJsaWMnKSkpXG5cbnNlcnZlci5saXN0ZW4ocG9ydCwgKCkgPT4ge1xuXHRjb25zb2xlLmxvZygnU2VydmVyIGxpc3RlbmluZyBhdCBwb3J0ICVkJywgcG9ydClcbn0pXG5cbmxldCBvbmxpbmVVc2VycyA9IDBcblxuaW8ub24oJ2Nvbm5lY3Rpb24nLCBzb2NrZXQgPT4ge1xuXHRsZXQgYWRkZWRVc2VyID0gZmFsc2Vcblx0XG5cdHNvY2tldC5vbignbmV3TWVzc2FnZScsIGRhdGEgPT4ge1xuXHRcdHNvY2tldC5icm9hZGNhc3QuZW1pdCgnbmV3TWVzc2FnZScsIHtcblx0XHRcdHVzZXJuYW1lOiBzb2NrZXQudXNlcm5hbWUsXG5cdFx0XHRtZXNzYWdlOiBkYXRhXG5cdFx0fSk7XG5cdFx0XG5cdFx0Y29uc29sZS5sb2coJ05ldyBtZXNzYWdlJywgZGF0YSlcblx0fSlcblx0XG5cdHNvY2tldC5vbignYWRkVXNlcicsICh1c2VybmFtZSkgPT4ge1xuXHRcdGlmIChhZGRlZFVzZXIpIHJldHVyblxuXHRcdFxuXHRcdHNvY2tldC51c2VybmFtZSA9IHVzZXJuYW1lXG5cdFx0KytvbmxpbmVVc2Vyc1xuXHRcdGFkZGVkVXNlciA9IHRydWVcblx0XHRcblx0XHRzb2NrZXQuZW1pdCgnbG9naW4nLCB7XG5cdFx0XHRvbmxpbmVVc2Vyc1xuXHRcdH0pXG5cdFx0XG5cdFx0c29ja2V0LmJyb2FkY2FzdC5lbWl0KCd1c2VySm9pbmVkJywge1xuXHRcdFx0dXNlcm5hbWU6IHNvY2tldC51c2VybmFtZSxcblx0XHRcdG9ubGluZVVzZXJzXG5cdFx0fSlcblx0XHRcblx0XHRjb25zb2xlLmxvZyhgVXNlciAke3VzZXJuYW1lfSBhZGRlZGApXG5cdH0pXG5cdFxuXHRzb2NrZXQub24oJ3R5cGluZycsICgpID0+IHtcblx0XHRzb2NrZXQuYnJvYWRjYXN0LmVtaXQoJ3R5cGluZycsIHtcblx0XHRcdHVzZXJuYW1lOiBzb2NrZXQudXNlcm5hbWVcblx0XHR9KVxuXHR9KVxuXHRcblx0c29ja2V0Lm9uKCdzdG9wVHlwaW5nJywgKCkgPT4ge1xuXHRcdHNvY2tldC5icm9hZGNhc3QuZW1pdCgnc3RvcFR5cGluZycsIHtcblx0XHRcdHVzZXJuYW1lOiBzb2NrZXQudXNlcm5hbWVcblx0XHR9KVxuXHR9KVxuXHRcblx0c29ja2V0Lm9uKCdkaXNjb25uZWN0JywgKCkgPT4ge1xuXHRcdGlmIChhZGRlZFVzZXIpIHtcblx0XHRcdC0tb25saW5lVXNlcnNcblx0XHRcdFxuXHRcdFx0c29ja2V0LmJyb2FkY2FzdC5lbWl0KCd1c2VyTGVmdCcsIHtcblx0XHRcdFx0dXNlcm5hbWU6IHNvY2tldC51c2VybmFtZSxcblx0XHRcdFx0b25saW5lVXNlcnNcblx0XHRcdH0pXG5cdFx0fVxuXHR9KVxufSlcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "app",
        "server",
        "http",
        "createServer",
        "io",
        "port",
        "process",
        "env",
        "PORT",
        "use",
        "Express",
        "static",
        "path",
        "join",
        "__dirname",
        "listen",
        "console",
        "log",
        "onlineUsers",
        "on",
        "socket",
        "addedUser",
        "data",
        "broadcast",
        "emit",
        "username",
        "message"
      ],
      "mappings": ";;AAAA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,GAAG,GAAG,uBAAZ;;AACA,MAAMC,MAAM,GAAGC,cAAKC,YAAL,CAAkBH,GAAlB,CAAf;;AACA,MAAMI,EAAE,GAAG,qBAASH,MAAT,CAAX;AACA,MAAMI,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,IAAZ,IAAoB,IAAjC;AAEAR,GAAG,CAACS,GAAJ,CAAQC,iBAAQC,MAAR,CAAeC,cAAKC,IAAL,CAAUC,SAAV,EAAqB,QAArB,CAAf,CAAR;AAEAb,MAAM,CAACc,MAAP,CAAcV,IAAd,EAAoB,MAAM;AACzBW,EAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2CZ,IAA3C;AACA,CAFD;AAIA,IAAIa,WAAW,GAAG,CAAlB;AAEAd,EAAE,CAACe,EAAH,CAAM,YAAN,EAAoBC,MAAM,IAAI;AAC7B,MAAIC,SAAS,GAAG,KAAhB;AAEAD,EAAAA,MAAM,CAACD,EAAP,CAAU,YAAV,EAAwBG,IAAI,IAAI;AAC/BF,IAAAA,MAAM,CAACG,SAAP,CAAiBC,IAAjB,CAAsB,YAAtB,EAAoC;AACnCC,MAAAA,QAAQ,EAAEL,MAAM,CAACK,QADkB;AAEnCC,MAAAA,OAAO,EAAEJ;AAF0B,KAApC;AAKAN,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BK,IAA3B;AACA,GAPD;AASAF,EAAAA,MAAM,CAACD,EAAP,CAAU,SAAV,EAAsBM,QAAD,IAAc;AAClC,QAAIJ,SAAJ,EAAe;AAEfD,IAAAA,MAAM,CAACK,QAAP,GAAkBA,QAAlB;AACA,MAAEP,WAAF;AACAG,IAAAA,SAAS,GAAG,IAAZ;AAEAD,IAAAA,MAAM,CAACI,IAAP,CAAY,OAAZ,EAAqB;AACpBN,MAAAA;AADoB,KAArB;AAIAE,IAAAA,MAAM,CAACG,SAAP,CAAiBC,IAAjB,CAAsB,YAAtB,EAAoC;AACnCC,MAAAA,QAAQ,EAAEL,MAAM,CAACK,QADkB;AAEnCP,MAAAA;AAFmC,KAApC;AAKAF,IAAAA,OAAO,CAACC,GAAR,CAAa,QAAOQ,QAAS,QAA7B;AACA,GAjBD;AAmBAL,EAAAA,MAAM,CAACD,EAAP,CAAU,QAAV,EAAoB,MAAM;AACzBC,IAAAA,MAAM,CAACG,SAAP,CAAiBC,IAAjB,CAAsB,QAAtB,EAAgC;AAC/BC,MAAAA,QAAQ,EAAEL,MAAM,CAACK;AADc,KAAhC;AAGA,GAJD;AAMAL,EAAAA,MAAM,CAACD,EAAP,CAAU,YAAV,EAAwB,MAAM;AAC7BC,IAAAA,MAAM,CAACG,SAAP,CAAiBC,IAAjB,CAAsB,YAAtB,EAAoC;AACnCC,MAAAA,QAAQ,EAAEL,MAAM,CAACK;AADkB,KAApC;AAGA,GAJD;AAMAL,EAAAA,MAAM,CAACD,EAAP,CAAU,YAAV,EAAwB,MAAM;AAC7B,QAAIE,SAAJ,EAAe;AACd,QAAEH,WAAF;AAEAE,MAAAA,MAAM,CAACG,SAAP,CAAiBC,IAAjB,CAAsB,UAAtB,EAAkC;AACjCC,QAAAA,QAAQ,EAAEL,MAAM,CAACK,QADgB;AAEjCP,QAAAA;AAFiC,OAAlC;AAIA;AACD,GATD;AAUA,CArDD",
      "sourceRoot": "/home/ehuman/Desktop/Java_DigitalInnovation/NodeJS/WebSocket/src/",
      "sourcesContent": [
        "import path from 'path'\nimport http from 'http'\nimport Express from 'express'\nimport socketio from 'socket.io'\n\nconst app = Express()\nconst server = http.createServer(app)\nconst io = socketio(server)\nconst port = process.env.PORT || 3000\n\napp.use(Express.static(path.join(__dirname, 'public')))\n\nserver.listen(port, () => {\n\tconsole.log('Server listening at port %d', port)\n})\n\nlet onlineUsers = 0\n\nio.on('connection', socket => {\n\tlet addedUser = false\n\t\n\tsocket.on('newMessage', data => {\n\t\tsocket.broadcast.emit('newMessage', {\n\t\t\tusername: socket.username,\n\t\t\tmessage: data\n\t\t});\n\t\t\n\t\tconsole.log('New message', data)\n\t})\n\t\n\tsocket.on('addUser', (username) => {\n\t\tif (addedUser) return\n\t\t\n\t\tsocket.username = username\n\t\t++onlineUsers\n\t\taddedUser = true\n\t\t\n\t\tsocket.emit('login', {\n\t\t\tonlineUsers\n\t\t})\n\t\t\n\t\tsocket.broadcast.emit('userJoined', {\n\t\t\tusername: socket.username,\n\t\t\tonlineUsers\n\t\t})\n\t\t\n\t\tconsole.log(`User ${username} added`)\n\t})\n\t\n\tsocket.on('typing', () => {\n\t\tsocket.broadcast.emit('typing', {\n\t\t\tusername: socket.username\n\t\t})\n\t})\n\t\n\tsocket.on('stopTyping', () => {\n\t\tsocket.broadcast.emit('stopTyping', {\n\t\t\tusername: socket.username\n\t\t})\n\t})\n\t\n\tsocket.on('disconnect', () => {\n\t\tif (addedUser) {\n\t\t\t--onlineUsers\n\t\t\t\n\t\t\tsocket.broadcast.emit('userLeft', {\n\t\t\t\tusername: socket.username,\n\t\t\t\tonlineUsers\n\t\t\t})\n\t\t}\n\t})\n})\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1593699009139
  }
}